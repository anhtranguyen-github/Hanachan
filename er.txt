I. NguyÃªn táº¯c trÆ°á»›c khi liá»‡t kÃª Entity (ráº¥t quan trá»ng)

Entity â‰  UI screen

Entity â‰  Use case

Entity = thá»© cÃ³ tráº¡ng thÃ¡i, cÃ³ vÃ²ng Ä‘á»i, cÃ³ identity

ğŸ“Œ LessonBatch cÃ³ pháº£i entity khÃ´ng?
â†’ CÃ“, vÃ¬:

CÃ³ id

CÃ³ tráº¡ng thÃ¡i: NEW / IN_PROGRESS / COMPLETED / ABANDONED

User quay láº¡i tiáº¿p tá»¥c Ä‘Æ°á»£c

II. NhÃ³m Entity theo Domain
Learning
Review
Content
Progress
Assistant

III. Core Entities (báº¯t buá»™c pháº£i cÃ³)
1ï¸âƒ£ User
User
- userId
- level
- preferences


ğŸ“Œ Actor cá»§a má»i use case

2ï¸âƒ£ LessonBatch (ENTITY â€“ kháº³ng Ä‘á»‹nh láº¡i)
LessonBatch
- batchId
- userId
- lessonItems : List<LessonItem>
- status
- startedAt
- completedAt


âœ” View available lesson batch
âœ” Start / Quit / Complete
âœ” LÆ°u tiáº¿n trÃ¬nh há»c

3ï¸âƒ£ LessonItem (ENTITY)
LessonItem
- itemId
- contentId
- contentType (GRAMMAR / KANJI / VOCAB)
- question : Question
- answerState (UNANSWERED / CORRECT / INCORRECT)


âœ” View lesson item
âœ” Answer / Re-answer
âœ” DÃ¹ng cho Learn

4ï¸âƒ£ ReviewSession (ENTITY)
ReviewSession
- sessionId
- userId
- reviewItems : List<ReviewItem>
- status


âœ” Start / Complete review
âœ” CÃ³ vÃ²ng Ä‘á»i riÃªng

5ï¸âƒ£ ReviewItem (ENTITY)
ReviewItem
- itemId
- contentId
- question
- answerState


ğŸ“Œ TÃ¡ch khá»i LessonItem vÃ¬ nghiá»‡p vá»¥ khÃ¡c

Review cÃ³ thá»ƒ dÃ¹ng SRS

Review khÃ´ng táº¡o content má»›i

IV. Question / Answer â€“ nÆ¡i CLOZE sá»‘ng
6ï¸âƒ£ Question (ENTITY / VALUE OBJECT tuá»³ thiáº¿t káº¿)
Question
- questionId
- type (MULTIPLE_CHOICE / INPUT / CLOZE)
- prompt
- clozeData (optional)


ğŸ“Œ Grammar Cloze náº±m á»Ÿ Ä‘Ã¢y
ğŸ“Œ KhÃ´ng náº±m á»Ÿ LessonBatch

7ï¸âƒ£ ClozeData (VALUE OBJECT)
ClozeData
- maskedSentence
- correctAnswer
- hint (optional)


ğŸ”¥ ÄÃ¢y lÃ  â€œÄ‘á»¥c lá»—â€

CÃ³ thá»ƒ sinh runtime

Hoáº·c lÆ°u sáºµn DB

V. Content Domain (Browse Content)
8ï¸âƒ£ Content (ABSTRACT ENTITY)
Content
- contentId
- level
- learningStatus

8.1 GrammarContent
GrammarContent extends Content
- explanation
- exampleSentences


âœ” View grammar explanation
âœ” View example sentences

8.2 KanjiContent
KanjiContent extends Content
- meaning
- radicals
- relatedVocabulary

8.3 VocabularyContent
VocabularyContent extends Content
- meaning
- audioUrl
- exampleSentences
- kanjiList

VI. Progress & Statistics
9ï¸âƒ£ LearningProgress (ENTITY)
LearningProgress
- userId
- levelProgress
- reviewStats


âœ” View learning overview
âœ” View charts / stats

VII. Assistant Domain
ğŸ”Ÿ ChatSession (ENTITY)
ChatSession
- sessionId
- userId
- messages

11ï¸âƒ£ AssistantMessage (VALUE OBJECT)
AssistantMessage
- role (USER / ASSISTANT)
- content
- referencedContentIds


âœ” View explanation
âœ” Open content from CTA

VIII. Entity Coverage Check (ráº¥t quan trá»ng)
Use case	Entity xá»­ lÃ½
Learn Lessons	LessonBatch, LessonItem
Review Knowledge	ReviewSession, ReviewItem
Grammar Cloze	Question, ClozeData
Browse Content	Content + subclasses
Progress	LearningProgress
Chat Assistant	ChatSession